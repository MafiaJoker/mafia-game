#+title: Mafia Game Helper

* Описание
Mafia Game Helper - это веб-приложение для проведения игры "Мафия". Приложение помогает организовывать игру, отслеживать роли, фолы, голоса и ночные действия игроков, что упрощает работу ведущего.

* Особенности
- Распределение ролей между игроками (мирные жители, мафия, дон, шериф)
- Автоматический подсчет голосов и обработка перестрелок
- Ведение ночного этапа (стрельба мафии, проверки дона и шерифа)
- Система фолов и наказаний (игроки могут молчать на текущем или следующем круге)
- Таймер для отслеживания длительности дня/ночи
- Механика "лучшего хода" для первого убитого игрока
- Возможность переключения видимости ролей (для облегчения ведения)
- Определение победителя игры (мафия, мирные жители или ничья)
- Механика ППК (право последнего слова) для соблюдения правил игры

* Установка и запуск
1. Клонируйте репозиторий
#+begin_src bash
git clone https://github.com/MafiaJoker/mafia-game
cd mafia-game
#+end_src

2. Для локального запуска рекомендуется использовать простой HTTP-сервер, например:
#+begin_src bash
python -m http.server 8000
#+end_src

3. Затем откройте браузер и перейдите по адресу http://localhost:8000/game.html

* Использование
1. Начните игру, нажав кнопку "Раздать роли"
2. Распределите роли между игроками (2 мафии, 1 дон, 1 шериф, остальные - мирные)
3. Нажмите "Начать игру", чтобы перейти в дневную фазу
4. Используйте выпадающие списки для выставления кандидатур
5. Нажмите "Начать голосование" и зарегистрируйте голоса
6. После голосования перейдите в ночную фазу
7. Зарегистрируйте ночные действия мафии, дона и шерифа
8. Продолжайте игру, следуя этим шагам, пока не будет определен победитель

* Структура проекта
Проект построен по архитектуре MVC:

** Модели
  - ~models/game-model.js~ - модель игры
  - ~models/player-model.js~ - модель игрока

** Представления
  - ~views/game-view.js~ - представление игры
  - ~views/player-view.js~ - представление игрока

** Контроллеры
  - ~controllers/game-controller.js~ - контроллер игры

** Сервисы
  - ~services/voting-service.js~ - сервис голосования
  - ~services/night-actions-service.js~ - сервис ночных действий

** Утилиты
  - ~utils/constants.js~ - константы игры
  - ~utils/event-emitter.js~ - система событий
  - ~utils/timer-service.js~ - сервис таймера
  - ~utils/localization.js~ - локализация интерфейса

** Точка входа
  - ~app.js~ - инициализация приложения
