# Electron App Documentation

## Telegram OAuth –¥–ª—è Electron

### –ü—Ä–æ–±–ª–µ–º–∞

–í Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π Telegram Widget –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ:
1. Telegram OAuth –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –¥–æ–º–µ–Ω–æ–º –≤ –±–æ—Ç–µ
2. `localhost` –Ω–µ–ª—å–∑—è —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ Telegram –±–æ—Ç–µ –ø–æ —Å–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `file://` –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º

### –†–µ—à–µ–Ω–∏–µ

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω OAuth flow —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º —Å–µ—Å—Å–∏–∏:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∫–ª–∏–∫–∞–µ—Ç "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram"** –≤ Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. **–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ** —Å —Å–∞–π—Ç–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ `https://dev.jokermafia.am/login`
3. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è** —á–µ—Ä–µ–∑ Telegram –≤–∏–¥–∂–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ
4. **–ë—ç–∫–µ–Ω–¥ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Å–µ—Å—Å–∏–æ–Ω–Ω—É—é –∫—É–∫—É** –≤ –±—Ä–∞—É–∑–µ—Ä–µ
5. **Electron –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é** –∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —É—Å–ø–µ—à–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
6. **–ö—É–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è** –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ—Å—Å–∏—é Electron (–æ–±—â–∞—è —Å–µ—Å—Å–∏—è)
7. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

#### 1. Protocol Registration (`electron-builder.yml`)
```yaml
protocols:
  - name: Mafia Helper
    schemes:
      - mafia-helper
```

#### 2. Main Process (`electron/main.js`)
- **Auth window creation**: –°–æ–∑–¥–∞–Ω–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ `BrowserWindow` –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Session sharing**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–±—â–µ–π —Å–µ—Å—Å–∏–∏ –º–µ–∂–¥—É –æ—Å–Ω–æ–≤–Ω—ã–º –∏ auth –æ–∫–Ω–∞–º–∏
- **Navigation tracking**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **Cookie extraction**: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫—É–∫–∏ –∏–∑ —Å–µ—Å—Å–∏–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

#### 3. Preload Script (`electron/preload.js`)
```javascript
// API –¥–ª—è renderer –ø—Ä–æ—Ü–µ—Å—Å–∞
electronAPI: {
  openTelegramOAuth: (loginUrl) => // –û—Ç–∫—Ä—ã—Ç—å –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  onAuthSuccessCallback: (callback) => // –ü–æ–ª—É—á–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Å –∫—É–∫–∞–º–∏
}
```

#### 4. Auth Store (`src/stores/auth.js`)
```javascript
// –ú–µ—Ç–æ–¥ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–∞–π—Ç –≤ Electron
telegramLoginElectron(loginUrl = 'https://dev.jokermafia.am/login') {
  // 1. –û—Ç–∫—Ä—ã—Ç–∏–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å —Å–∞–π—Ç–æ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
  // 2. –û–∂–∏–¥–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–¥–∞—á–∏ –∫—É–∫–∏
  // 3. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ API —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º–∏ –∫—É–∫–∞–º–∏
  // 4. –í–æ–∑–≤—Ä–∞—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
}
```

#### 5. UI Component (`src/components/auth/TelegramLoginWidget.vue`)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** –æ–∫—Ä—É–∂–µ–Ω–∏—è Electron
- **–ö–Ω–æ–ø–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** –¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –æ–∫–Ω–∞
- **Fallback** –∫ –≤–µ–± –≤–∏–¥–∂–µ—Ç—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∞–π—Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ:

1. **–°–∞–π—Ç –¥–æ—Å—Ç—É–ø–µ–Ω**: `https://dev.jokermafia.am/login` –æ—Ç–≤–µ—á–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
2. **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω**: –†–∞–∑—Ä–µ—à–µ–Ω—ã –∑–∞–ø—Ä–æ—Å—ã –∏–∑ Electron
3. **–ü–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏**: –ü—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç redirect –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É (`/`, `/dashboard`, `/events`)
4. **–ö—É–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è**: –°–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –∫—É–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **OAuth –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º –æ–∫–Ω–µ** - –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ä–µ–¥–∞ —Å –æ–±—â–µ–π —Å–µ—Å—Å–∏–µ–π
2. **Timeout –∑–∞—â–∏—Ç–∞** - OAuth –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ 5 –º–∏–Ω—É—Ç
3. **–ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ** - –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ** - –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —É—Å–ø–µ—Ö–∞
5. **Session sharing** - –±–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫—É–∫–∏ —á–µ—Ä–µ–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–µ—Å—Å–∏—é

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ü–û–õ–ù–û–°–¢–¨–Æ:**
- Electron –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è —Å `https://dev.jokermafia.am/login`
- –ü–æ—Å–ª–µ Telegram –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
- –°–µ—Å—Å–∏–æ–Ω–Ω—ã–µ –∫—É–∫–∏ (`session=...`) —É—Å–ø–µ—à–Ω–æ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è
- –ö—É–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è –≤ –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ—Å—Å–∏—é Electron
- –û–∫–Ω–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Å—Å–∏–µ–π

### üöÄ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É**: `npm run electron:serve`
2. **–ö–ª–∏–∫–Ω–∏—Ç–µ "–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Telegram"** –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
3. **–ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å** –≤ –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –Ω–∞ —Å–∞–π—Ç–µ
4. **–û–∫–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä–æ–µ—Ç—Å—è** –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
5. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª—É—á–∏—Ç –¥–æ—Å—Ç—É–ø –∫ API** —Å —Å–µ—Å—Å–∏–æ–Ω–Ω—ã–º–∏ –∫—É–∫–∞–º–∏

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:** –ï—Å–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–µ —Å—Ä–∞–±–æ—Ç–∞–µ—Ç, –≤ –æ–∫–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ—è–≤–∏—Ç—Å—è –∫–Ω–æ–ø–∫–∞ **"–Ø –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–ª—Å—è ‚úì"** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

### Build –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

```bash
npm run electron:build
```

### Troubleshooting

#### Protocol handler –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ (–Ω–µ –∑–∞–ø—É—â–µ–Ω–æ –∏–∑ dev)
- –ù–∞ Windows –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è –∑–∞–ø—É—Å–∫ –æ—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –≤ —Ä–µ–µ—Å—Ç—Ä–µ: `HKEY_CLASSES_ROOT\mafia-helper`

#### CORS –æ—à–∏–±–∫–∏ (XMLHttpRequest blocked)
**–ü—Ä–æ–±–ª–µ–º–∞:** `Access to XMLHttpRequest at 'http://localhost:8000/api/v1/auth/token' from origin 'http://localhost:5174' has been blocked by CORS policy`

**–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. **webSecurity: false** –≤ main.js –æ—Ç–∫–ª—é—á–∞–µ—Ç CORS –ø—Ä–æ–≤–µ—Ä–∫–∏
2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π API URL**: Electron –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `https://dev.jokermafia.am/api/v1`
3. **–í–µ–±-–≤–µ—Ä—Å–∏—è** –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π API –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–õ–æ–≥–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
API Base URL: https://dev.jokermafia.am/api/v1
Is Electron: true
```

#### OAuth timeout
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ Bot ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –≤ `getBotId()`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ DevTools: `Ctrl+Shift+I`

#### API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTML –≤–º–µ—Å—Ç–æ JSON
**–ü—Ä–æ–±–ª–µ–º–∞:** `API returned unexpected event types structure: <!DOCTYPE html>`

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **API —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** –∏–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º URL
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π API endpoint** - —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç HTML —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –≤–º–µ—Å—Ç–æ API –¥–∞–Ω–Ω—ã—Ö
3. **CORS —Ä–µ–¥–∏—Ä–µ–∫—Ç** - —Å–µ—Ä–≤–µ—Ä –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏—è:**
1. **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π API
   ```bash
   npm run electron:serve  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç http://localhost:8000/api/v1
   ```

2. **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ API –¥–æ—Å—Ç—É–ø–µ–Ω
   ```bash
   npm run electron:serve:prod  # –∏—Å–ø–æ–ª—å–∑—É–µ—Ç https://dev.jokermafia.am/api/v1
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API —Å–µ—Ä–≤–µ—Ä**: —É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±—ç–∫–µ–Ω–¥ –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

**–õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
API Base URL: http://localhost:8000/api/v1
API returned HTML page instead of JSON data
This usually means the API server is not running or misconfigured
```

#### –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ –≤–µ–±-–±—Ä–∞—É–∑–µ—Ä–µ

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–µ —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã** –º–µ–∂–¥—É –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏ /login
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** –≤ —Ä–æ—É—Ç–µ—Ä–µ
3. **API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω** –∏ —Ä–æ—É—Ç–µ—Ä –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø—ã—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
1. **–ö–µ—à –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ 5 —Å–µ–∫—É–Ω–¥
2. **Mutex –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ API
3. **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Ä–∞–∑–ª–∏—á–∞–µ—Ç 401 (–Ω–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) –∏ 503 (API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)
4. **Graceful degradation** - –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏—é –∫–æ–≥–¥–∞ API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω

**–õ–æ–≥–∏ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:**
```bash
Router: navigating from / to /
Router: user not authenticated, checking with API...
User check cached, returning current state
Router: API unavailable (503), allowing navigation without auth
```

#### –û—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –≤ Vite (–≤–µ–±-–≤–µ—Ä—Å–∏—è)
**–ü—Ä–æ–±–ª–µ–º–∞:** `Loading failed for the module with source "http://localhost:5173/node_modules/.vite/deps/..."`

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **–ö–µ—à Vite –ø–æ–≤—Ä–µ–∂–¥–µ–Ω** –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–ª
2. **–ö–æ–Ω—Ñ–ª–∏–∫—Ç –ø–æ—Ä—Ç–æ–≤** - –Ω–µ—Å–∫–æ–ª—å–∫–æ dev —Å–µ—Ä–≤–µ—Ä–æ–≤ –∑–∞–ø—É—â–µ–Ω—ã –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
3. **–ü—Ä–µ—Ä–≤–∞–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π** Vite

**–†–µ—à–µ–Ω–∏—è:**
1. **–û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:**
   ```bash
   npm run dev:clean  # –û—á–∏—â–∞–µ—Ç –∫–µ—à –∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç dev —Å–µ—Ä–≤–µ—Ä
   ```

2. **–í—Ä—É—á–Ω—É—é –æ—á–∏—Å—Ç–∏—Ç—å –∫–µ—à:**
   ```bash
   rm -rf node_modules/.vite
   npm run dev
   ```

3. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö:**
   ```bash
   # –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç–∞—Ö 5173-5175
   lsof -i :5173
   kill -9 <PID>
   ```

**–õ–æ–≥–∏ —É–∫–∞–∑—ã–≤–∞—é—â–∏–µ –Ω–∞ –ø—Ä–æ–±–ª–µ–º—É:**
```bash
Loading failed for the module with source "http://localhost:5173/node_modules/.vite/deps/..."
[Vue Router warn]: Unexpected error when starting the router
[vite] ‚ú® new dependencies optimized... reloading
```

### üí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏

1. **–í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ –±—Ä–∞—É–∑–µ—Ä–∞** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±—â—É—é —Å–µ—Å—Å–∏—é —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è**: URL –Ω–∞–≤–∏–≥–∞—Ü–∏—è, DOM –∞–Ω–∞–ª–∏–∑, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ  
3. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É–∫–∏** –º–µ–∂–¥—É —Å–µ—Å—Å–∏—è–º–∏ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
4. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã –¥–ª—è –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏
5. **–¢–∞–π–º–∞—É—Ç 5 –º–∏–Ω—É—Ç** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∑–∞–≤–∏—Å–∞–Ω–∏—è

### –õ–æ–≥–∏ –æ—Ç–ª–∞–¥–∫–∏

–õ–æ–≥–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:
```bash
Auth window navigated in-page to: https://dev.jokermafia.am/
Authentication successful, detected main page: https://dev.jokermafia.am/
Auth window domain cookies: 0
Auth window all cookies: 4  
Using filtered cookies from all cookies: 1
Cookie details: [ 'session=437b8fec8d...' ]
Has session cookie: true
```

–í renderer –ø—Ä–æ—Ü–µ—Å—Å–µ –ª–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ DevTools (`Ctrl+Shift+I`).